# Финальный проект по НИСу "Грамматика конструкций"
### Картозия Инга, БКЛ141


### Материалы:
* [Данные](https://docs.google.com/spreadsheets/d/1ZZ1vR18t06Hndg9rw2yg-Zq1cj4ARs92kGAvCdYkFgU/edit?usp=sharing)  

* [Код](./cxg_final.R)

## Рабочая гипотеза
С утра vs. утром
В русском языке существует две конструкции, которые на первый взгляд кажутся взаимозаменяемыми. В этом небольшом исследовании я решила проверить действительно ли это так.

На мой взгляд, на выбор конструкции могли влиять следующие параметры:
1. Наличие прилагательного

*снежным утром*

2. Наличие наречия и его тип

*завтра утром vs. завтра с утра*

3. Наличие отрицания в предложение

*не везёт с утра*

4. Форма глагола. Кажется, что обе конструкции хорошо сочетаются с глаголами в форме прошедшего времени

*Утром он вышел из дома*

## Данные

### Материал исследования
Материалы для каждой конструкции были скачены из НКРЯ. На каждую конструкции приводится около 1000 с лишним примеров из корпуса.

### Факторы выбора конструкции
Зависимая переменная: утром/с утра (колонка Target)
Предположительно зависит:

* наличие/отсутствие наречия времени
* наличие/отсутствие наречия места
* наличие/отсутствие прилагательного
* наличие/отсутствие отрицания в предложение
* форма глагола
* входит ли конструкция в состав фразеологизма

Примеры были выгружены из НКРЯ и размечались вручную. Изначально предполагалось учитывать позицию конструкции в предложении, но составить однозначную классификацию для разметки этого параметра довольно трудно.

## Анализ: дескриптивная статистика
Все графики можно найти в папке [vizualization](./vizualization/)

Голубым на графике отмечен — *утром*

Красным на графике отмечен — *с утра*

**Прилагательные:** около половины всех случаев с *с утра* имеют при себе прилагательное. Большинство из этих конструкций это *с раннего утра*. Хотя, на первый взгляд казалось, что *утром* будет чаще встречаться с прилагательными

![alt text](https://github.com/kartozia/cxg_2017/blob/master/vizualization/adj.png)

**Наречия места:** Большинство примеров не имеют при себе наречий места и *с утра* имеет всего лишь в 1,5 раза больше примеров с наречием, нежели *утром* (95 и 65, соответственно)

![alt text](https://github.com/kartozia/cxg_2017/blob/master/vizualization/advloc.png)

**Наречия времени:** *С утра* в половине случаев встречается с наречием времени, тогда как только 1/4 примеров с *утром* имеют при себе эти наречия.

![alt text](https://github.com/kartozia/cxg_2017/blob/master/vizualization/advtime.png)

**Отрицание:** Обе конструкции почти одинаково редко встречаются в предложениях с отрицанием (50 — *с утра*, 55 — *утром*)

![alt text](https://github.com/kartozia/cxg_2017/blob/master/vizualization/neg.png)

**Глагол:** Самым популярным временем глагола оказалось прошедшее время. Будущее время чаще встречается с конструкцией *с утра* (*С утра будут пить опять.*), а настоящее — с *утром* (*Утром работает, днём спит.*)

![alt text](https://github.com/kartozia/cxg_2017/blob/master/vizualization/tense.png)

**Фразеологизмы:** Здесь учитывались различные устойчивые выражения. Для *утром* это безусловно фраза *С Добрым утром!*. Для *с утра* это *с утра до вечера* и её различные варианты (*с утра до ночи, с раннего утра до позднего вечера и т.п.*).

![alt text](https://github.com/kartozia/cxg_2017/blob/master/vizualization/phrasal.png)

**Корреляция:**

![alt text](https://github.com/kartozia/cxg_2017/blob/master/vizualization/correlation.png)

**Хи-квадрат:**
'''
Target and AdvLoc
X-squared = 150.98, df = 282, p-value = 1
Target and Adj
X-squared = 2579, df = 76, p-value < 2.2e-16
Target and Phrasal
X-squared = 3990.7, df = 3568, p-value = 6.948e-07
AdvLoc and Adj
X-squared = 3447.3, df = 5358, p-value = 1
'''
## Мультифакторный анализ
Для построения модели использовалась логистическая регрессия.
В [коде](./cxg_final.R) можно найти несколько вариантом:

* с бинарными признаками
* с категориальными признаками

После запуска последней статистически незначимые факторы были убраны из анализа. Финальный вывод можно найти ниже.

**Model output:**

```
Call:
glm(formula = Target ~ AdvLoc + Adj + Phrasal, family = "binomial",
data = df3)

Deviance Residuals:
Min 1Q Median 3Q Max
-1.6067 -0.5341 -0.0804 0.8021 3.3874

Coefficients:
Estimate Std. Error z value Pr(>|z|)
(Intercept) 0.96908 0.06417 15.101 ***
AdvLoc -0.45362 0.20127 -2.254 0.0242 *
Adj -2.84451 0.14836 -19.172 ***
Phrasal -3.85871 0.39235 -9.835 ***
---
Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

(Dispersion parameter for binomial family taken to be 1)

Null deviance: 2785 on 2008 degrees of freedom
Residual deviance: 1968 on 2005 degrees of freedom
AIC: 1976

Number of Fisher Scoring iterations: 6
```

## Результаты

Наиболее значимыми переменными в итоге оказались прилагательные, устойчивость выражения и наличие наречия места. При наличии наречия места и/или прилагательного скорее встретится *с утра*. Возможно, конструкция *с утра* имеет более широкий спектр употребления.

## Обсуждение использованных квантитативных методов

### Goodness of fit

```
Likelihood ratio test

Model 1: Target ~ AdvLoc + Adj + Phrasal
Model 2: Target ~ AdvTime + AdvLoc + VGram + Neg + Adj + Phrasal
#Df LogLik Df Chisq Pr(>Chisq)
1 4 -983.98
2 15 -957.82 11 52.322 2.384e-07 ***
---
Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
```

**Модель 1:** только значимые признаки

**Модель 2:** все признаки

Результаты теста показывают, что модель с 6 признаками работает лучше, чем модель с 3 признаками.
